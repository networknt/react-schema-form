import{javascript as i}from"./javascript-CWGekh08-CHCd-tf1.js";var c={"{":"}","(":")","[":"]"};function p(e){if(typeof e!="object")return e;let t={};for(let r in e){let n=e[r];t[r]=n instanceof Array?n.slice():n}return t}class a{constructor(t){this.indentUnit=t,this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=i.startState(t),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=1/0,this.indentToken=""}copy(){var t=new a(this.indentUnit);return t.javaScriptLine=this.javaScriptLine,t.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,t.javaScriptArguments=this.javaScriptArguments,t.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,t.isInterpolating=this.isInterpolating,t.interpolationNesting=this.interpolationNesting,t.jsState=(i.copyState||p)(this.jsState),t.restOfLine=this.restOfLine,t.isIncludeFiltered=this.isIncludeFiltered,t.isEach=this.isEach,t.lastTag=this.lastTag,t.isAttrs=this.isAttrs,t.attrsNest=this.attrsNest.slice(),t.inAttributeName=this.inAttributeName,t.attributeIsType=this.attributeIsType,t.attrValue=this.attrValue,t.indentOf=this.indentOf,t.indentToken=this.indentToken,t}}function l(e,t){if(e.sol()&&(t.javaScriptLine=!1,t.javaScriptLineExcludesColon=!1),t.javaScriptLine){if(t.javaScriptLineExcludesColon&&e.peek()===":"){t.javaScriptLine=!1,t.javaScriptLineExcludesColon=!1;return}var r=i.token(e,t.jsState);return e.eol()&&(t.javaScriptLine=!1),r||!0}}function h(e,t){if(t.javaScriptArguments){if(t.javaScriptArgumentsDepth===0&&e.peek()!=="("){t.javaScriptArguments=!1;return}if(e.peek()==="("?t.javaScriptArgumentsDepth++:e.peek()===")"&&t.javaScriptArgumentsDepth--,t.javaScriptArgumentsDepth===0){t.javaScriptArguments=!1;return}var r=i.token(e,t.jsState);return r||!0}}function m(e){if(e.match(/^yield\b/))return"keyword"}function d(e){if(e.match(/^(?:doctype) *([^\n]+)?/))return"meta"}function u(e,t){if(e.match("#{"))return t.isInterpolating=!0,t.interpolationNesting=0,"punctuation"}function v(e,t){if(t.isInterpolating){if(e.peek()==="}"){if(t.interpolationNesting--,t.interpolationNesting<0)return e.next(),t.isInterpolating=!1,"punctuation"}else e.peek()==="{"&&t.interpolationNesting++;return i.token(e,t.jsState)||!0}}function S(e,t){if(e.match(/^case\b/))return t.javaScriptLine=!0,"keyword"}function j(e,t){if(e.match(/^when\b/))return t.javaScriptLine=!0,t.javaScriptLineExcludesColon=!0,"keyword"}function g(e){if(e.match(/^default\b/))return"keyword"}function k(e,t){if(e.match(/^extends?\b/))return t.restOfLine="string","keyword"}function b(e,t){if(e.match(/^append\b/))return t.restOfLine="variable","keyword"}function A(e,t){if(e.match(/^prepend\b/))return t.restOfLine="variable","keyword"}function L(e,t){if(e.match(/^block\b *(?:(prepend|append)\b)?/))return t.restOfLine="variable","keyword"}function y(e,t){if(e.match(/^include\b/))return t.restOfLine="string","keyword"}function w(e,t){if(e.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&e.match("include"))return t.isIncludeFiltered=!0,"keyword"}function N(e,t){if(t.isIncludeFiltered){var r=o(e,t);return t.isIncludeFiltered=!1,t.restOfLine="string",r}}function x(e,t){if(e.match(/^mixin\b/))return t.javaScriptLine=!0,"keyword"}function T(e,t){if(e.match(/^\+([-\w]+)/))return e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),"variable";if(e.match("+#{",!1))return e.next(),t.mixinCallAfter=!0,u(e,t)}function I(e,t){if(t.mixinCallAfter)return t.mixinCallAfter=!1,e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),!0}function O(e,t){if(e.match(/^(if|unless|else if|else)\b/))return t.javaScriptLine=!0,"keyword"}function E(e,t){if(e.match(/^(- *)?(each|for)\b/))return t.isEach=!0,"keyword"}function C(e,t){if(t.isEach){if(e.match(/^ in\b/))return t.javaScriptLine=!0,t.isEach=!1,"keyword";if(e.sol()||e.eol())t.isEach=!1;else if(e.next()){for(;!e.match(/^ in\b/,!1)&&e.next(););return"variable"}}}function D(e,t){if(e.match(/^while\b/))return t.javaScriptLine=!0,"keyword"}function F(e,t){var r;if(r=e.match(/^(\w(?:[-:\w]*\w)?)\/?/))return t.lastTag=r[1].toLowerCase(),"tag"}function o(e,t){if(e.match(/^:([\w\-]+)/))return s(e,t),"atom"}function V(e,t){if(e.match(/^(!?=|-)/))return t.javaScriptLine=!0,"punctuation"}function U(e){if(e.match(/^#([\w-]+)/))return"builtin"}function z(e){if(e.match(/^\.([\w-]+)/))return"className"}function Z(e,t){if(e.peek()=="(")return e.next(),t.isAttrs=!0,t.attrsNest=[],t.inAttributeName=!0,t.attrValue="",t.attributeIsType=!1,"punctuation"}function f(e,t){if(t.isAttrs){if(c[e.peek()]&&t.attrsNest.push(c[e.peek()]),t.attrsNest[t.attrsNest.length-1]===e.peek())t.attrsNest.pop();else if(e.eat(")"))return t.isAttrs=!1,"punctuation";if(t.inAttributeName&&e.match(/^[^=,\)!]+/))return(e.peek()==="="||e.peek()==="!")&&(t.inAttributeName=!1,t.jsState=i.startState(2),t.lastTag==="script"&&e.current().trim().toLowerCase()==="type"?t.attributeIsType=!0:t.attributeIsType=!1),"attribute";var r=i.token(e,t.jsState);if(t.attrsNest.length===0&&(r==="string"||r==="variable"||r==="keyword"))try{return Function("","var x "+t.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),t.inAttributeName=!0,t.attrValue="",e.backUp(e.current().length),f(e,t)}catch{}return t.attrValue+=e.current(),r||!0}}function $(e,t){if(e.match(/^&attributes\b/))return t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0,"keyword"}function q(e){if(e.sol()&&e.eatSpace())return"indent"}function B(e,t){if(e.match(/^ *\/\/(-)?([^\n]*)/))return t.indentOf=e.indentation(),t.indentToken="comment","comment"}function G(e){if(e.match(/^: */))return"colon"}function H(e,t){if(e.match(/^(?:\| ?| )([^\n]+)/))return"string";if(e.match(/^(<[^\n]*)/,!1))return s(e,t),e.skipToEnd(),t.indentToken}function J(e,t){if(e.eat("."))return s(e,t),"dot"}function K(e){return e.next(),null}function s(e,t){t.indentOf=e.indentation(),t.indentToken="string"}function M(e,t){if(e.sol()&&(t.restOfLine=""),t.restOfLine){e.skipToEnd();var r=t.restOfLine;return t.restOfLine="",r}}function P(e){return new a(e)}function Q(e){return e.copy()}function R(e,t){var r=M(e,t)||v(e,t)||N(e,t)||C(e,t)||f(e,t)||l(e,t)||h(e,t)||I(e,t)||m(e)||d(e)||u(e,t)||S(e,t)||j(e,t)||g(e)||k(e,t)||b(e,t)||A(e,t)||L(e,t)||y(e,t)||w(e,t)||x(e,t)||T(e,t)||O(e,t)||E(e,t)||D(e,t)||F(e,t)||o(e,t)||V(e,t)||U(e)||z(e)||Z(e,t)||$(e,t)||q(e)||H(e,t)||B(e,t)||G(e)||J(e,t)||K(e);return r===!0?null:r}const W={startState:P,copyState:Q,token:R};export{W as pug};
